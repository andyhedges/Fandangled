<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
        <!ENTITY % BOOK_ENTITIES SYSTEM "Fandangled_Manual.ent">
        %BOOK_ENTITIES;
        ]>
<chapter id="FileFormat">
    <title>File Format</title>

    <para>The file format is a text document, created by any modern text editor such as Notepad, Textpad, vi or gedit.
        We recommend UTF-8 for the character encoding but ISO-8859-1 and other encoding will work equally well.
    </para>

    <para>The style of the interface definition is very similar to a Java or C# interface however with an emphasis on
        documentation and business functionality rather than details of scoping and other coding concerns.
    </para>

    <section>
        <title>Attributes</title>

        <para>Most information is tagged with attribute names and each attribute definition is terminated with a
            semi-colon. An attribute will look somehting like:
        </para>

        <programlisting>@something string, "some free text in inverted commas";</programlisting>

        <para>The attribute name is proceeded with the '@' symbol and conforms to the format of an ID (see below)
        </para>

        <section>
            <title>Attibute Properties</title>

            <para>An attribute has a number of properties and each property is either an ID, a free text field or a
                version number
            </para>

            <section>
                <title>IDs</title>

                <para>An ID is a string that must start with a letter or an underscore (_) followed by zero or more
                    letters numbers or underscores. All letters must be unaccented latin characters.
                </para>
            </section>
            <section>
                <title>Free Text Fields</title>

                <para>Free text fields are surrounded by double quotes and can contain any character sequence
                    including
                    new line indicators. In order to have a literal double quote in a free text field it must be
                    delimited with a backslash. The following is a simple example:
                </para>

                <programlisting>"This is a simple example"</programlisting>

                <para>A more complex example might be</para>



<programlisting>"Is this a multiline example with a double quotes in it&#8253;

Yes, it is. What I really need is an accented word like \"na&#239;vet&#233;\" to demonstrate
accents"</programlisting>


            </section>
            <section>
                <title>Version numbers</title>

                <para>Version numbers in Fandanged are dot separated numbers, they should be strictly increasing with
                    the
                    left
                    being the most significant part. A simple example of a version number is:
                </para>

                <programlisting>1.12.10</programlisting>
            </section>
        </section>
    </section>

    <section>
        <title>Preamble</title>

        <para>The preamble defines a number of piece of information. Let's look at a bare-bones IDL file to get a feel
            for
            the
            structure of the preamble
        </para>

        <programlisting>
            @fandangled 0.0.1;
            interface InterfaceName exposes ServiceName{
            @owner "John Smith", "john.smith@uk.example.com";
            @author "Simon Jones", "simon.jones@us.example.com";
            @author "Susan Papadopoulos", "susan.papadopoulos@example.org";
            @version 0.0.1;
            }
        </programlisting>

        <section>
            <title>Version of Fandangled IDL</title>

            <para>All FIDLs should start with the version of FIDL specification they conform to, in this case 0.0.1, the
                attribute name for this information is fandangled
            </para>

            <programlisting>@fandangled 0.0.1;</programlisting>

            <para>The FIDL version must appear as the first non whitespace in the file</para>
        </section>

        <section>
            <title>Interface Name</title>

            <para>The interface name in this case 'InterfaceName' is whatever you wish to call the service interface, it
                must be
                a valid ID
            </para>
        </section>

        <section>
            <title>Service Name</title>

            <para>The service name is the name of the service on which this interface exposes data and functionality. In
                future
                this will cause types, enumerations and exception to be imported into the interace, for now it is just a
                marker
            </para>
        </section>

        <section>
            <title>Owner</title>

            <para>This is the name and email address of the person accountable for the interface. We strongly recommend
                this is
                an individual rather than a role. There can only be one owner.
            </para>
        </section>

        <section>
            <title>Author</title>

            <para>This is the name and email address of the author of the interface. This annotation can be repeated
                multiple
                times in the case that multiple people have worked on the interface definition
            </para>
        </section>

        <section>
            <title>Version of the Interace</title>

            <para>This is the version of this particular interface, this is reference by the @since attributes of many
                of the
                other structures in the file
            </para>
        </section>
    </section>
</chapter>